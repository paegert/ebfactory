\hypertarget{namespacetrainnet}{
\section{trainnet Namespace Reference}
\label{namespacetrainnet}\index{trainnet@{trainnet}}
}


Created on Jul 5, 2012.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacetrainnet_af0ab122647716d110c3d20d71bca7517}{maketarget}
\begin{DoxyCompactList}\small\item\em Set the target vector for a single object. \item\end{DoxyCompactList}\item 
def \hyperlink{namespacetrainnet_a3770060027ff2b2ac850672baaedc954}{prepdata}
\begin{DoxyCompactList}\small\item\em Prepare data for neural network (assemble and normalize). \item\end{DoxyCompactList}\item 
def \hyperlink{namespacetrainnet_a6b2a6c6ee5f126bec6cf862ebcee3d7c}{readdata}
\begin{DoxyCompactList}\small\item\em read data from database \item\end{DoxyCompactList}\item 
def \hyperlink{namespacetrainnet_ade5fd81c145ae647da27e5108ecbc83b}{reshuffle}
\begin{DoxyCompactList}\small\item\em re-\/shuffling the data \item\end{DoxyCompactList}\item 
def \hyperlink{namespacetrainnet_a38102ec29b7d6d2fbf74196151247213}{parseoptions}
\begin{DoxyCompactList}\small\item\em Parse command line options. \item\end{DoxyCompactList}\item 
def \hyperlink{namespacetrainnet_af0eeb2aa38d66cbd67256b1b27066ea4}{splitdata}
\begin{DoxyCompactList}\small\item\em Split data into training, validation and testing set according to given fractions. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
tuple \hyperlink{namespacetrainnet_a92c95c206ed27e0de8dec1cb68a1f6bb}{cls} = getattr(\hyperlink{namespacetrainnet_a293be6aa425ca070702d0f999f1ea68d}{dbconfig}, 'Asas')
\item 
tuple \hyperlink{namespacetrainnet_a293be6aa425ca070702d0f999f1ea68d}{dbconfig} = \hyperlink{namespacetrainnet_a92c95c206ed27e0de8dec1cb68a1f6bb}{cls}()
\item 
tuple \hyperlink{namespacetrainnet_a53e6fa3504764aa1a0d61b916af6358a}{watch} = Stopwatch()
\item 
tuple \hyperlink{namespacetrainnet_ad40ddd24354da1881bc9fe8b6547b5fa}{watchprep} = Stopwatch()
\item 
tuple \hyperlink{namespacetrainnet_afce55f5d26936ba4b8622fc19ba56446}{net}
\item 
\hyperlink{namespacetrainnet_a6eceefa845bebe7f22951cbc18af394b}{eta} = options.eta,
\item 
\hyperlink{namespacetrainnet_a531ebfd51f4947ab5422381d729a8756}{niterations} = options.nriter,
\item 
\hyperlink{namespacetrainnet_a8c0014c8c751971aa9ac67420b64d9a5}{stopval} = options.stopval,makestatsTrue)
\item 
tuple \hyperlink{namespacetrainnet_afdfd7e6bbac45ccf3826d60cf8636299}{cm} = net.confmat(testd, testt, True)
\item 
\hyperlink{namespacetrainnet_a3e3b093ef37c5ac35ebdcbfc08bf52e1}{ofname} = options.repname)
\item 
tuple \hyperlink{namespacetrainnet_aacdb2e9555d0d0aa59e25c64e45d48b2}{pf} = open(net.subdir + '/' + options.picklename, 'w')
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Created on Jul 5, 2012. \begin{DoxyAuthor}{Author}
map 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
\$Revision: 1.1 $ 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
\$Date: 2012/07/20 20:20:47 $
\end{DoxyDate}
Routines for retrieving, preparing and handing data over to a neural network for training. Note: the main part is just for testing purposes, use trainnetmp for all real training

\begin{DoxyParagraph}{Log:}
\hyperlink{trainnet_8py}{trainnet.py},v 
\end{DoxyParagraph}
adding \hyperlink{namespacetrainnet_a6b2a6c6ee5f126bec6cf862ebcee3d7c}{readdata()}, resuffle(), \hyperlink{namespacetrainnet_a38102ec29b7d6d2fbf74196151247213}{parseoptions()} and options for the network

Revision 1.1 2012/07/06 20:34:19 paegerm Initial revision 

\subsection{Function Documentation}
\hypertarget{namespacetrainnet_af0ab122647716d110c3d20d71bca7517}{
\index{trainnet@{trainnet}!maketarget@{maketarget}}
\index{maketarget@{maketarget}!trainnet@{trainnet}}
\subsubsection[{maketarget}]{\setlength{\rightskip}{0pt plus 5cm}def trainnet::maketarget (
\begin{DoxyParamCaption}
\item[{}]{classes, }
\item[{}]{varcls, }
\item[{}]{target}
\end{DoxyParamCaption}
)}}
\label{namespacetrainnet_af0ab122647716d110c3d20d71bca7517}


Set the target vector for a single object. 



Definition at line 43 of file trainnet.py.

\hypertarget{namespacetrainnet_a38102ec29b7d6d2fbf74196151247213}{
\index{trainnet@{trainnet}!parseoptions@{parseoptions}}
\index{parseoptions@{parseoptions}!trainnet@{trainnet}}
\subsubsection[{parseoptions}]{\setlength{\rightskip}{0pt plus 5cm}def trainnet::parseoptions (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{namespacetrainnet_a38102ec29b7d6d2fbf74196151247213}


Parse command line options. 

Note: trainnet and trainnetmp use the same options although not all of them make sense for trainnet. For example only minhidden is used in trainnet 

Definition at line 196 of file trainnet.py.

\hypertarget{namespacetrainnet_a3770060027ff2b2ac850672baaedc954}{
\index{trainnet@{trainnet}!prepdata@{prepdata}}
\index{prepdata@{prepdata}!trainnet@{trainnet}}
\subsubsection[{prepdata}]{\setlength{\rightskip}{0pt plus 5cm}def trainnet::prepdata (
\begin{DoxyParamCaption}
\item[{}]{options, }
\item[{}]{arr, }
\item[{}]{cff, }
\item[{}]{shuffle = {\ttfamily True}, }
\item[{}]{normsubtract = {\ttfamily None}, }
\item[{}]{normdevide = {\ttfamily None}}
\end{DoxyParamCaption}
)}}
\label{namespacetrainnet_a3770060027ff2b2ac850672baaedc954}


Prepare data for neural network (assemble and normalize). 

Note: the polyfit coefficients and normalized row-\/wise, NOT column-\/wise as usual. Within a row each block of 3 coefficients is normalized individually

Used: 4 blocks of node cff1, cff2, cff3 (second order fit) Vmag Max -\/ Min for normalized magnitutes chi2 from polyfit 

Definition at line 68 of file trainnet.py.

\hypertarget{namespacetrainnet_a6b2a6c6ee5f126bec6cf862ebcee3d7c}{
\index{trainnet@{trainnet}!readdata@{readdata}}
\index{readdata@{readdata}!trainnet@{trainnet}}
\subsubsection[{readdata}]{\setlength{\rightskip}{0pt plus 5cm}def trainnet::readdata (
\begin{DoxyParamCaption}
\item[{}]{options, }
\item[{}]{dbconfig}
\end{DoxyParamCaption}
)}}
\label{namespacetrainnet_a6b2a6c6ee5f126bec6cf862ebcee3d7c}


read data from database 



Definition at line 138 of file trainnet.py.

\hypertarget{namespacetrainnet_ade5fd81c145ae647da27e5108ecbc83b}{
\index{trainnet@{trainnet}!reshuffle@{reshuffle}}
\index{reshuffle@{reshuffle}!trainnet@{trainnet}}
\subsubsection[{reshuffle}]{\setlength{\rightskip}{0pt plus 5cm}def trainnet::reshuffle (
\begin{DoxyParamCaption}
\item[{}]{alld, }
\item[{}]{allt, }
\item[{}]{allnames}
\end{DoxyParamCaption}
)}}
\label{namespacetrainnet_ade5fd81c145ae647da27e5108ecbc83b}


re-\/shuffling the data 



Definition at line 176 of file trainnet.py.

\hypertarget{namespacetrainnet_af0eeb2aa38d66cbd67256b1b27066ea4}{
\index{trainnet@{trainnet}!splitdata@{splitdata}}
\index{splitdata@{splitdata}!trainnet@{trainnet}}
\subsubsection[{splitdata}]{\setlength{\rightskip}{0pt plus 5cm}def trainnet::splitdata (
\begin{DoxyParamCaption}
\item[{}]{alld, }
\item[{}]{allt, }
\item[{}]{allnames, }
\item[{}]{trainfrac = {\ttfamily 0.5}, }
\item[{}]{validfrac = {\ttfamily 0.25}}
\end{DoxyParamCaption}
)}}
\label{namespacetrainnet_af0eeb2aa38d66cbd67256b1b27066ea4}


Split data into training, validation and testing set according to given fractions. 



Definition at line 301 of file trainnet.py.



\subsection{Variable Documentation}
\hypertarget{namespacetrainnet_a92c95c206ed27e0de8dec1cb68a1f6bb}{
\index{trainnet@{trainnet}!cls@{cls}}
\index{cls@{cls}!trainnet@{trainnet}}
\subsubsection[{cls}]{\setlength{\rightskip}{0pt plus 5cm}tuple {\bf trainnet::cls} = getattr({\bf dbconfig}, 'Asas')}}
\label{namespacetrainnet_a92c95c206ed27e0de8dec1cb68a1f6bb}


Definition at line 328 of file trainnet.py.

\hypertarget{namespacetrainnet_afdfd7e6bbac45ccf3826d60cf8636299}{
\index{trainnet@{trainnet}!cm@{cm}}
\index{cm@{cm}!trainnet@{trainnet}}
\subsubsection[{cm}]{\setlength{\rightskip}{0pt plus 5cm}tuple {\bf trainnet::cm} = net.confmat(testd, testt, True)}}
\label{namespacetrainnet_afdfd7e6bbac45ccf3826d60cf8636299}


Definition at line 370 of file trainnet.py.

\hypertarget{namespacetrainnet_a293be6aa425ca070702d0f999f1ea68d}{
\index{trainnet@{trainnet}!dbconfig@{dbconfig}}
\index{dbconfig@{dbconfig}!trainnet@{trainnet}}
\subsubsection[{dbconfig}]{\setlength{\rightskip}{0pt plus 5cm}tuple {\bf trainnet::dbconfig} = {\bf cls}()}}
\label{namespacetrainnet_a293be6aa425ca070702d0f999f1ea68d}


Definition at line 329 of file trainnet.py.

\hypertarget{namespacetrainnet_a6eceefa845bebe7f22951cbc18af394b}{
\index{trainnet@{trainnet}!eta@{eta}}
\index{eta@{eta}!trainnet@{trainnet}}
\subsubsection[{eta}]{\setlength{\rightskip}{0pt plus 5cm}{\bf trainnet::eta} = options.eta,}}
\label{namespacetrainnet_a6eceefa845bebe7f22951cbc18af394b}


Definition at line 364 of file trainnet.py.

\hypertarget{namespacetrainnet_afce55f5d26936ba4b8622fc19ba56446}{
\index{trainnet@{trainnet}!net@{net}}
\index{net@{net}!trainnet@{trainnet}}
\subsubsection[{net}]{\setlength{\rightskip}{0pt plus 5cm}tuple {\bf trainnet::net}}}
\label{namespacetrainnet_afce55f5d26936ba4b8622fc19ba56446}
{\bfseries Initial value:}
\begin{DoxyCode}
1 mlp.mlp(traind, traint, nhidden = options.minhidden, 
2                   beta = options.beta, momentum = options.momentum, 
3                   outtype = options.outtype, 
4                   multires = options.multi, mdelta = options.mdelta)
\end{DoxyCode}


Definition at line 353 of file trainnet.py.

\hypertarget{namespacetrainnet_a531ebfd51f4947ab5422381d729a8756}{
\index{trainnet@{trainnet}!niterations@{niterations}}
\index{niterations@{niterations}!trainnet@{trainnet}}
\subsubsection[{niterations}]{\setlength{\rightskip}{0pt plus 5cm}{\bf trainnet::niterations} = options.nriter,}}
\label{namespacetrainnet_a531ebfd51f4947ab5422381d729a8756}


Definition at line 365 of file trainnet.py.

\hypertarget{namespacetrainnet_a3e3b093ef37c5ac35ebdcbfc08bf52e1}{
\index{trainnet@{trainnet}!ofname@{ofname}}
\index{ofname@{ofname}!trainnet@{trainnet}}
\subsubsection[{ofname}]{\setlength{\rightskip}{0pt plus 5cm}{\bf trainnet::ofname} = options.repname)}}
\label{namespacetrainnet_a3e3b093ef37c5ac35ebdcbfc08bf52e1}


Definition at line 372 of file trainnet.py.

\hypertarget{namespacetrainnet_aacdb2e9555d0d0aa59e25c64e45d48b2}{
\index{trainnet@{trainnet}!pf@{pf}}
\index{pf@{pf}!trainnet@{trainnet}}
\subsubsection[{pf}]{\setlength{\rightskip}{0pt plus 5cm}tuple {\bf trainnet::pf} = open(net.subdir + '/' + options.picklename, 'w')}}
\label{namespacetrainnet_aacdb2e9555d0d0aa59e25c64e45d48b2}


Definition at line 374 of file trainnet.py.

\hypertarget{namespacetrainnet_a8c0014c8c751971aa9ac67420b64d9a5}{
\index{trainnet@{trainnet}!stopval@{stopval}}
\index{stopval@{stopval}!trainnet@{trainnet}}
\subsubsection[{stopval}]{\setlength{\rightskip}{0pt plus 5cm}{\bf trainnet::stopval} = options.stopval,makestatsTrue)}}
\label{namespacetrainnet_a8c0014c8c751971aa9ac67420b64d9a5}


Definition at line 366 of file trainnet.py.

\hypertarget{namespacetrainnet_a53e6fa3504764aa1a0d61b916af6358a}{
\index{trainnet@{trainnet}!watch@{watch}}
\index{watch@{watch}!trainnet@{trainnet}}
\subsubsection[{watch}]{\setlength{\rightskip}{0pt plus 5cm}tuple {\bf trainnet::watch} = Stopwatch()}}
\label{namespacetrainnet_a53e6fa3504764aa1a0d61b916af6358a}


Definition at line 331 of file trainnet.py.

\hypertarget{namespacetrainnet_ad40ddd24354da1881bc9fe8b6547b5fa}{
\index{trainnet@{trainnet}!watchprep@{watchprep}}
\index{watchprep@{watchprep}!trainnet@{trainnet}}
\subsubsection[{watchprep}]{\setlength{\rightskip}{0pt plus 5cm}tuple {\bf trainnet::watchprep} = Stopwatch()}}
\label{namespacetrainnet_ad40ddd24354da1881bc9fe8b6547b5fa}


Definition at line 333 of file trainnet.py.

